<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr">
<head>
<!-- 2023-06-29 jeu. 09:53 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ZZ1 SEMAINE 1</title>
<meta name="author" content="DUREL Enzo DUREL Enzo" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="https://hozendev.github.io/hozen-style/reset.css" />
<link rel="stylesheet" type="text/css" href="https://hozendev.github.io/hozen-style/hozen_style.css" />
<script src="https://hozendev.github.io/hozen-style/scripts/toc.js"></script>
<script src="https://hozendev.github.io/hozen-style/scripts/widget.js"></script>
<script src="https://hozendev.github.io/hozen-style/scripts/theme.js"></script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">ZZ1 SEMAINE 1</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table des matières</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgd34e457">1. Projet Individuel</a></li>
<li><a href="#org64e22d2">2. Problemes du Voyageur</a>
<ul>
<li><a href="#orgedb8245">2.1. Présentation</a></li>
<li><a href="#org0f5b5a8">2.2. Floyd Warshall</a></li>
<li><a href="#org66d9b2d">2.3. GLOUTON EXHAUSTIVE</a></li>
<li><a href="#orgf25eae6">2.4. RECUIT SIMULÉ</a></li>
<li><a href="#orgb8e7c04">2.5. COLONIE DE FOURMI</a>
<ul>
<li><a href="#org89e143a">2.5.1. Cacul Probabilité sur les sommets de chaque fourmi</a></li>
<li><a href="#org1d64a77">2.5.2. Mise à jour des distances d'une fourmi</a></li>
<li><a href="#org3d3bda3">2.5.3. Mise à jour des phéromones des fourmis</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org559c68f">3. Chef d'oeuvre</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgd34e457" class="outline-2">
<h2 id="orgd34e457"><span class="section-number-2">1.</span> Projet Individuel</h2>
<div class="outline-text-2" id="text-1">
<p>
[[]]
[[]]
[[]]
</p>
<p>
[[]]
[[]]
[[]]
</p>
<p>
[[]]
[[]]
[[]]
</p>
</div>
</div>

<div id="outline-container-org64e22d2" class="outline-2">
<h2 id="org64e22d2"><span class="section-number-2">2.</span> Problemes du Voyageur</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-orgedb8245" class="outline-3">
<h3 id="orgedb8245"><span class="section-number-3">2.1.</span> Présentation</h3>
<div class="outline-text-3" id="text-2-1">
<p>
L'énoncé du problème du voyageur de commerce est le suivant : étant donné n villes et les distances entre toutes les paires de villes, trouver un chemin de longueur totale minimale qui passe exactement une fois par chaque ville et revienne à la ville de départ.
</p>
</div>
</div>

<div id="outline-container-org0f5b5a8" class="outline-3">
<h3 id="org0f5b5a8"><span class="section-number-3">2.2.</span> Floyd Warshall</h3>
<div class="outline-text-3" id="text-2-2">
<div class="org-src-container">
<pre class="src src-c"><span style="color: #3d77ff;">/** </span><span style="color: #EECBC9;">@brief</span><span style="color: #3d77ff;"> Algorithme Floyd Warshall</span>
<span style="color: #3d77ff;"> *</span>
<span style="color: #3d77ff;"> * </span><span style="color: #EECBC9;">@param</span><span style="color: #3d77ff;"> graph, le graphe qui contient les distances initialis&#233;es</span>
<span style="color: #3d77ff;"> * </span><span style="color: #EECBC9;">@param</span><span style="color: #3d77ff;"> matrixFloyd, matrice des plus petites distances retourn&#233;es par l'algorithme</span>
<span style="color: #3d77ff;"> */</span>
<span style="color: #93EBB9;">void</span> <span style="color: #fa8072;">floydWarshall</span>(<span style="color: #93EBB9;">graph_sdl_t</span> * <span style="color: #E8E3BA;">graph</span>, <span style="color: #93EBB9;">float</span> *** <span style="color: #E8E3BA;">matrixFloyd</span>)
{
    <span style="color: #93EBB9;">int</span> <span style="color: #E8E3BA;">numVertices</span> = graph-&gt;g-&gt;n;

    *matrixFloyd = (<span style="color: #93EBB9;">float</span> **) malloc(numVertices * <span style="color: #7A8799;">sizeof</span>(<span style="color: #93EBB9;">float</span> *));

    <span style="color: #7A8799;">for</span> (<span style="color: #93EBB9;">int</span> <span style="color: #E8E3BA;">i</span> = 0; i &lt; numVertices; i++) {
        (*matrixFloyd)[i] = (<span style="color: #93EBB9;">float</span>*)malloc(numVertices * <span style="color: #7A8799;">sizeof</span>(<span style="color: #93EBB9;">float</span>));

        <span style="color: #7A8799;">for</span> (<span style="color: #93EBB9;">int</span> <span style="color: #E8E3BA;">j</span> = 0; j &lt; numVertices; j++) {
            (*matrixFloyd)[i][j] = graph-&gt;dist[i][j];
        }
    }

    <span style="color: #7A8799;">for</span> (<span style="color: #93EBB9;">int</span> <span style="color: #E8E3BA;">k</span> = 0; k &lt; numVertices; k++) {
        <span style="color: #7A8799;">for</span> (<span style="color: #93EBB9;">int</span> <span style="color: #E8E3BA;">i</span> = 0; i &lt; numVertices; i++) {
            <span style="color: #7A8799;">for</span> (<span style="color: #93EBB9;">int</span> <span style="color: #E8E3BA;">j</span> = 0; j &lt; numVertices; j++) {
                <span style="color: #7A8799;">if</span> (   (*matrixFloyd)[i][k] != INFINITY
                       &amp;&amp; (*matrixFloyd)[k][j] != INFINITY
                       &amp;&amp; (*matrixFloyd)[i][k] + (*matrixFloyd)[k][j] &lt; (*matrixFloyd)[i][j]) {
                    (*matrixFloyd)[i][j] = (*matrixFloyd)[i][k] + (*matrixFloyd)[k][j];
                }
            }
        }
    } 
}
</pre>
</div>
</div>
</div>

<div id="outline-container-org66d9b2d" class="outline-3">
<h3 id="org66d9b2d"><span class="section-number-3">2.3.</span> GLOUTON EXHAUSTIVE</h3>
<div class="outline-text-3" id="text-2-3">
<div class="org-src-container">
<pre class="src src-C"><span style="color: #3d77ff;">/** </span><span style="color: #EECBC9;">@brief</span><span style="color: #3d77ff;"> Algorithme glouton exhaustive: prendre le meilleur parmi tous les voisins</span>
<span style="color: #3d77ff;"> *</span>
<span style="color: #3d77ff;"> * </span><span style="color: #EECBC9;">@param</span><span style="color: #3d77ff;"> dist, matrice des distances</span>
<span style="color: #3d77ff;"> * </span><span style="color: #EECBC9;">@param</span><span style="color: #3d77ff;"> taille, nombre de noeuds du graphe</span>
<span style="color: #3d77ff;"> *</span>
<span style="color: #3d77ff;"> * </span><span style="color: #EECBC9;">@return</span><span style="color: #3d77ff;"> la distance du cycle minimale</span>
<span style="color: #3d77ff;"> */</span>
<span style="color: #93EBB9;">float</span> <span style="color: #fa8072;">glouton_exhaustive</span>(<span style="color: #93EBB9;">float</span> ** <span style="color: #E8E3BA;">dist</span>, <span style="color: #93EBB9;">int</span> <span style="color: #E8E3BA;">n</span>)
{
    <span style="color: #93EBB9;">float</span> <span style="color: #E8E3BA;">dist_min_global</span> = INFINITY;
    ...

    <span style="color: #7A8799;">for</span> (i = 0; i &lt; n; ++i)
    {
        dist = 0;
        curr = i;

        <span style="color: #9BD3F8;">// </span><span style="color: #9BD3F8;">Parcourir tous les sommets en partant de i</span>
        <span style="color: #7A8799;">do</span> {
            visite[curr] = 1;
            next = -1;
            dist_min_local = INFINITY;

            <span style="color: #9BD3F8;">// </span><span style="color: #9BD3F8;">Chercher le sommet voisin non visit&#233; avec la distance minimale</span>
            <span style="color: #7A8799;">for</span> (j = 0; j &lt; n; ++j) {
                <span style="color: #7A8799;">if</span> (j != curr &amp;&amp; <span style="color: #EECBC9;">!</span>visite[j] &amp;&amp; dist[curr][j] &lt; dist_min_local) {
                    dist_min_local = dist[curr][j];
                    next = j;
                }
            }

            <span style="color: #7A8799;">if</span> (next != -1) {
                dist += dist_min_local;
                curr = next;
            }
        } <span style="color: #7A8799;">while</span> (next != -1);

        <span style="color: #9BD3F8;">// </span><span style="color: #9BD3F8;">V&#233;rifier si la distance actuelle est plus petite que la distance minimale trouv&#233;e jusqu'&#224; pr&#233;sent</span>
        <span style="color: #7A8799;">if</span> (dist + dist[i][curr] &lt; dist_min_global) {
            dist_min_global = dist + dist[i][curr];
        }
    }

    <span style="color: #7A8799;">return</span> dist_min_global;
}
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf25eae6" class="outline-3">
<h3 id="orgf25eae6"><span class="section-number-3">2.4.</span> RECUIT SIMULÉ</h3>
<div class="outline-text-3" id="text-2-4">
<div class="org-src-container">
<pre class="src src-c"><span style="color: #3d77ff;">/**</span>
<span style="color: #3d77ff;"> * </span><span style="color: #EECBC9;">@brief</span><span style="color: #3d77ff;"> m&#233;thode de r&#233;solution par recuis simul&#233;</span>
<span style="color: #3d77ff;"> *</span>
<span style="color: #3d77ff;"> * </span><span style="color: #EECBC9;">@param</span><span style="color: #3d77ff;"> dist, matrice des distances</span>
<span style="color: #3d77ff;"> * </span><span style="color: #EECBC9;">@param</span><span style="color: #3d77ff;"> taille, nombre de noeuds du graphe</span>
<span style="color: #3d77ff;"> *</span>
<span style="color: #3d77ff;"> * </span><span style="color: #EECBC9;">@return</span><span style="color: #3d77ff;"> la distance du cycle minimale</span>
<span style="color: #3d77ff;"> */</span>
<span style="color: #93EBB9;">float</span> <span style="color: #fa8072;">resolution_recuis_simule</span>(<span style="color: #93EBB9;">float</span> ** <span style="color: #E8E3BA;">dist</span>, <span style="color: #93EBB9;">int</span> <span style="color: #E8E3BA;">taille</span>)
{
    ...
    <span style="color: #93EBB9;">float</span> temperature = 1000, espsilon = 0.001, tauxderefroidissement = 0.999;
    ...

    utils_distance_liste(solution, dist, &amp;distmin, taille);

    <span style="color: #7A8799;">while</span> (temperature &gt; espsilon)
    {
        utils_copy_list(solution,new,taille);
        utils_shuffle(new,taille,temperature);
        utils_distance_liste(new,dist,&amp;distance,taille);

        <span style="color: #7A8799;">if</span>(distance&lt;distmin || rand()&lt;exp(-(distance-distmin)/temperature))
        {
            distmin=distance;
            utils_copy_list(new,solution,taille);
        }
        temperature=temperature*tauxderefroidissement;
    }
    <span style="color: #7A8799;">return</span> distmin;
}
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb8e7c04" class="outline-3">
<h3 id="orgb8e7c04"><span class="section-number-3">2.5.</span> COLONIE DE FOURMI</h3>
<div class="outline-text-3" id="text-2-5">
</div>
<div id="outline-container-org89e143a" class="outline-4">
<h4 id="org89e143a"><span class="section-number-4">2.5.1.</span> Cacul Probabilité sur les sommets de chaque fourmi</h4>
<div class="outline-text-4" id="text-2-5-1">
<div class="org-src-container">
<pre class="src src-C">...
<span style="color: #9BD3F8;">// </span><span style="color: #9BD3F8;">Calcul des probabilit&#233;s de transition vers les sommets non visit&#233;s</span>
<span style="color: #7A8799;">for</span> (j = 0; j &lt; n; j++) {
    <span style="color: #7A8799;">if</span> (visited[j] == 0) {
        probabilities[j] = pow(pheromones[curr][j], T_PHEROMONE) * pow(visibility[curr][j], T_DISTANCE);
        sum += probabilities[j];
    } <span style="color: #7A8799;">else</span> {
        probabilities[j] = 0.0;
    }
}

<span style="color: #9BD3F8;">// </span><span style="color: #9BD3F8;">S&#233;lection du prochain sommet en utilisant les probabilit&#233;s normalis&#233;es</span>
random = ((<span style="color: #93EBB9;">float</span>)<span style="color: #fa8072;">rand</span>() / RAND_MAX);
cumulativeProbability = 0.0;
<span style="color: #7A8799;">for</span> (j = 0; j &lt; n; j++) {
    probabilities[j] /= sum;
    cumulativeProbability += probabilities[j];
    <span style="color: #7A8799;">if</span> (random &lt;= cumulativeProbability) {
        next = j;
        <span style="color: #7A8799;">break</span>;
    }
}
...
</pre>
</div>
</div>
</div>

<div id="outline-container-org1d64a77" class="outline-4">
<h4 id="org1d64a77"><span class="section-number-4">2.5.2.</span> Mise à jour des distances d'une fourmi</h4>
<div class="outline-text-4" id="text-2-5-2">
<div class="org-src-container">
<pre class="src src-C"><span style="color: #3d77ff;">/**</span>
<span style="color: #3d77ff;"> * </span><span style="color: #EECBC9;">@brief</span><span style="color: #3d77ff;"> Compute a distance of a tour</span>
<span style="color: #3d77ff;"> *</span>
<span style="color: #3d77ff;"> * </span><span style="color: #EECBC9;">@param</span><span style="color: #3d77ff;"> dist, the distances matrix</span>
<span style="color: #3d77ff;"> * </span><span style="color: #EECBC9;">@param</span><span style="color: #3d77ff;"> fourmi_parcours, a tour of an ant</span>
<span style="color: #3d77ff;"> * </span><span style="color: #EECBC9;">@param</span><span style="color: #3d77ff;"> n, size of the tour</span>
<span style="color: #3d77ff;"> */</span>
<span style="color: #93EBB9;">float</span> <span style="color: #fa8072;">resolution_ant_colony_compute_distance</span>(<span style="color: #93EBB9;">float</span> ** <span style="color: #E8E3BA;">dist</span>, <span style="color: #93EBB9;">int</span> * <span style="color: #E8E3BA;">fourmi_parcours</span>, <span style="color: #93EBB9;">int</span> <span style="color: #E8E3BA;">n</span>)
{
    <span style="color: #9BD3F8;">// </span><span style="color: #9BD3F8;">Calcul de la longueur du tour construit par la fourmi</span>
    <span style="color: #93EBB9;">float</span> <span style="color: #E8E3BA;">total_dist</span> = 0.0;
    <span style="color: #93EBB9;">int</span> <span style="color: #E8E3BA;">i</span>;

    <span style="color: #7A8799;">for</span> (i = 0; i &lt; n - 1; i++)
        total_dist += dist[fourmi_parcours[i]][fourmi_parcours[i+1]];
    total_dist += dist[fourmi_parcours[n-1]][fourmi_parcours[0]]; <span style="color: #9BD3F8;">// </span><span style="color: #9BD3F8;">Retour au sommet de d&#233;part</span>

    <span style="color: #7A8799;">return</span> total_dist;
}
</pre>
</div>
</div>
</div>

<div id="outline-container-org3d3bda3" class="outline-4">
<h4 id="org3d3bda3"><span class="section-number-4">2.5.3.</span> Mise à jour des phéromones des fourmis</h4>
<div class="outline-text-4" id="text-2-5-3">
<div class="org-src-container">
<pre class="src src-C"><span style="color: #3d77ff;">/**</span>
<span style="color: #3d77ff;"> * </span><span style="color: #EECBC9;">@brief</span><span style="color: #3d77ff;"> Update pheromones matrix</span>
<span style="color: #3d77ff;"> *</span>
<span style="color: #3d77ff;"> * </span><span style="color: #EECBC9;">@param</span><span style="color: #3d77ff;"> pheromones, adress of pheromones to update</span>
<span style="color: #3d77ff;"> * </span><span style="color: #EECBC9;">@param</span><span style="color: #3d77ff;"> fourmi_parcours, array of all ant tour</span>
<span style="color: #3d77ff;"> * </span><span style="color: #EECBC9;">@param</span><span style="color: #3d77ff;"> fourmi_distances, array of all ant distance compute with result tour</span>
<span style="color: #3d77ff;"> * </span><span style="color: #EECBC9;">@param</span><span style="color: #3d77ff;"> n, size of the tour</span>
<span style="color: #3d77ff;"> */</span>
<span style="color: #93EBB9;">void</span> <span style="color: #fa8072;">resolution_ant_colony_update_pheromones</span>(<span style="color: #93EBB9;">float</span> *** <span style="color: #E8E3BA;">pheromones</span>, <span style="color: #93EBB9;">int</span> ** <span style="color: #E8E3BA;">fourmi_parcours</span>, <span style="color: #93EBB9;">float</span> * <span style="color: #E8E3BA;">fourmi_distances</span>, <span style="color: #93EBB9;">int</span> <span style="color: #E8E3BA;">n</span>)
{
    ...
    <span style="color: #9BD3F8;">// </span><span style="color: #9BD3F8;">Mise &#224; jour des ph&#233;romones sur toutes les ar&#234;tes</span>
    <span style="color: #7A8799;">for</span> (i = 0; i &lt; n; i++) {
        <span style="color: #7A8799;">for</span> (j = 0; j &lt; n; j++) {
            <span style="color: #7A8799;">if</span> (i != j) {
                <span style="color: #9BD3F8;">// </span><span style="color: #9BD3F8;">&#201;vaporation des ph&#233;romones</span>
                (*pheromones)[i][j] *= (1.0 - T_EVAP);

                <span style="color: #9BD3F8;">// </span><span style="color: #9BD3F8;">D&#233;p&#244;t de ph&#233;romones par chaque fourmi</span>
                <span style="color: #7A8799;">for</span> (ant = 0; ant &lt; NUM_ANTS; ant++) {
                    curr = fourmi_parcours[ant][i];
                    next = fourmi_parcours[ant][j];
                    (*pheromones)[curr][next] += (Q / fourmi_distances[ant]);
                }
            }
        }
    }
}
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org559c68f" class="outline-2">
<h2 id="org559c68f"><span class="section-number-2">3.</span> Chef d'oeuvre</h2>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Auteur: DUREL Enzo DUREL Enzo</p>
<p class="date">Created: 2023-06-29 jeu. 09:53</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
